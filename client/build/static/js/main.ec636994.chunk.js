(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(26),o=a.n(s),l=(a(87),a(3)),c=a(4),i=a(6),u=a(5),m=a(7),d=a(1),p=a(13),f=a(37),g=a(8),h=a(17),b=a(12),E=a.n(b),y=function(e,t){return function(a){a(t?{type:"SET_USER_CURRENT_VIEW",payload:e}:{type:"SET_PROFILE_CURRENT_VIEW",payload:e})}},v=function(e,t){return function(a){var n={"x-auth-token":t};return new Promise(function(t,r){E.a.get("/api/public/"+e,{headers:n}).then(function(e){e.data.success&&a({type:"UPDATE_PROFILE_STATE",payload:e.data.body}),t(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},w=function(e){return function(t){return new Promise(function(a,n){var r={"x-auth-token":e};E.a.get("/api/user/getUserData",{headers:r}).then(function(e){e.data.success&&t({type:"UPDATE_USER_STATE",payload:e.data.body}),a(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},N=function(e){return function(t){return new Promise(function(a,n){var r={"x-auth-token":e};E.a.get("/api/user/getFeed",{headers:r}).then(function(e){e.data.success&&t({type:"UPDATE_USER_STATE",payload:e.data.body}),a(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},x=function(e,t){return function(a){console.log("reply action"),console.log(t),console.log(e);var n={"x-auth-token":t};return new Promise(function(t,r){E.a.post("/api/user/reply",e,{headers:n}).then(function(e){e.data.success&&a({type:"UPDATE_TWEET",payload:e.data.body}),t(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},S=function(e,t,a){return function(n){return new Promise(function(r,s){0===e.length?(n(t?{type:"UPDATE_USER_STATE",payload:Object(h.a)({},a,[])}:{type:"UPDATE_PROFILE_STATE",payload:Object(h.a)({},a,[])}),r("No Usercards")):E.a.put("/api/public/getUserCards",{usernames:e}).then(function(e){e.data.success&&n(t?{type:"UPDATE_USER_STATE",payload:Object(h.a)({},a,e.data.body)}:{type:"UPDATE_PROFILE_STATE",payload:Object(h.a)({},a,e.data.body)}),r(e)}).catch(function(e){return console.log(e)})})}},O=function(e,t,a){return function(n){return new Promise(function(r,s){var o={"x-auth-token":a},l={type:t,base64:e.toString()};console.log(l),E.a.post("/api/images/uploadImage",l,{headers:o}).then(function(e){if(e.data.success){var a=Object(d.a)({},e.data.body);"PROFILE"===t?(a.selectedFileProfileImg=null,a.selectedFileBase64ProfileImg=null):(a.selectedFileSplashImg=null,a.selectedFileBase64SplashImg=null),console.log(a),n({type:"UPDATE_USER_STATE",payload:a})}r(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},j=a(170),k=(a(110),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).formSubmitHandler=function(t){t.preventDefault(),e.setState({isLoading:!0});var a={username:t.target.username.value,password:t.target.password.value};e.props.login(a).then(function(t){e.setState({serverRes:t,isLoading:!1})}).catch(function(e){return console.log(e)})},e.renderSubmitBtn=function(){return e.state.isLoading?r.a.createElement("div",{className:"text-center"},r.a.createElement(j.a,{variant:"primary",animation:"border",size:"sm",role:"status"})):r.a.createElement("input",{type:"submit",className:"btn btn-sm btn-primary m-1",value:"Log in"})},e.state={serverRes:{},isLoading:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderServerMsg",value:function(){if(!this.state.serverRes.message)return null;var e="text-center small font-italic";return this.state.serverRes.success?e+=" text-success":this.state.serverRes.success||(e+=" text-danger"),r.a.createElement("p",{className:e},"*",this.state.serverRes.message)}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.formSubmitHandler,id:"login-form",className:"form-group m-0 d-flex flex-row flex-wrap justify-content-center align-items-center bg-light"},r.a.createElement("div",{className:"pt-2"},this.renderServerMsg()),r.a.createElement("input",{type:"text",className:"form-control form-control-sm m-1",placeholder:"Username or email",name:"username"}),r.a.createElement("input",{type:"password",className:"form-control form-control-sm m-1",placeholder:"Enter your password",name:"password"}),this.renderSubmitBtn())}}]),t}(n.Component)),P=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{login:function(t){return e(function(e){return function(t){return new Promise(function(a,n){E.a.post("/api/auth/login",e).then(function(e){e.data.success&&(sessionStorage.setItem("twitterCloneToken",e.data.body.token),t({type:"UPDATE_USER_STATE",payload:e.data.body.user})),a(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t))}}})(Object(f.e)(k)),C=a(9),F=(a(118),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).logOutHandler=function(){var e=sessionStorage.getItem("twitterCloneToken");a.props.logout(e).then(function(e){}).catch(function(e){return console.log(e)})},a.autoRouteHandler=function(e){var t=a.props.history.location.pathname.split("/")[1],n=e.history.location.pathname.split("/")[1];switch(t){case"":case"login":case"registration":!e.user.isLoggedIn&&a.props.user.isLoggedIn&&a.props.history.push("/dashboard");break;case"dashboard":a.props.user.isLoggedIn||a.props.history.push("/");break;case"profile":e.user.isLoggedIn&&!a.props.user.isLoggedIn&&a.props.history.push("/"),"profile"===n&&e.profile.username!==a.props.profile.username&&a.props.setCurrentView("TWEETS",!1);break;case"settings":e.user.isLoggedIn&&!a.props.user.isLoggedIn&&a.props.history.push("/")}},a.getProfileUrl=function(){if(a.props.user)return"/profile/".concat(a.props.data.username)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.autoRouteHandler(e)}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light fixed-top bg-light shadow"},r.a.createElement(p.b,{to:this.props.user.isLoggedIn?"/dashboard":"/",className:"navbar-brand"},r.a.createElement(C.a,{className:"fa-icon-link text-silver icon-md",size:"1x",icon:["fas","dove"]})),r.a.createElement("button",{className:"navbar-toggler","data-toggle":"collapse","data-target":"#navBarMenu"},r.a.createElement("span",{className:"navbar-toggler-icon"})),this.props.user.isLoggedIn?r.a.createElement("div",{id:"navBarMenu",className:"collapse navbar-collapse"},r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement("div",{"data-toggle":"collapse","data-target":".navbar-collapse",className:"ml-auto"},r.a.createElement(p.b,{to:"/dashboard",className:"nav-item nav-link"},"Dashboard")),r.a.createElement("div",{"data-toggle":"collapse","data-target":".navbar-collapse",className:"ml-auto"},r.a.createElement(p.b,{to:"/settings",className:"nav-item nav-link"},"Settings")),r.a.createElement("div",{"data-toggle":"collapse","data-target":".navbar-collapse",className:"ml-auto"},r.a.createElement(p.b,{to:this.getProfileUrl(),className:"nav-item nav-link"},this.props.data.username)),r.a.createElement("div",{"data-toggle":"collapse","data-target":".navbar-collapse",className:"ml-auto"},r.a.createElement("p",{className:"nav-item clickable nav-link m-0",onClick:this.logOutHandler},"Log out")))):r.a.createElement("div",{id:"navBarMenu",className:"ml-auto collapse navbar-collapse justify-content-end"},r.a.createElement(P,null)))}}]),t}(n.Component)),R=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{logout:function(t){return e(function(e){return function(t){var a={"x-auth-token":e};return new Promise(function(e,n){E.a.post("/api/auth/logout",{},{headers:a}).then(function(a){a.data.success&&(sessionStorage.removeItem("twitterCloneToken"),t({type:"CLEAR_USER_STATE"})),e(a.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t))},setCurrentView:function(t,a){return e(y(t,a))}}})(Object(f.e)(F)),T=(a(119),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid",id:"home-page-container"},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-md-6 pt-5 bg-primary d-flex align-items-center justify-content-center"},r.a.createElement("ul",{className:"list-unstyled text-light"},r.a.createElement("li",{className:"my-3"},r.a.createElement("h5",null,"Front end: React, Redux, Bootstrap")),r.a.createElement("li",{className:"my-3"},r.a.createElement("h5",null,"Back end: NodeJS, Express")),r.a.createElement("li",{className:"my-3"},r.a.createElement("h5",null,"Database: MongoDB")))),r.a.createElement("div",{className:"col-md-6 d-flex align-items-center justify-content-center"},r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement(C.a,{icon:["fas","dove"],className:"icon-md mb-2 text-primary"}),r.a.createElement("h2",null,"Connect with friends."),r.a.createElement("h5",{className:"mb-5"},"Sign up for free!"),r.a.createElement(p.b,{to:"/registration",className:"btn btn-primary my-1 text-light"},"Sign Up"),r.a.createElement(p.b,{to:"/login",className:"btn btn-primary my-1 text-light"},"Log in")))))}}]),t}(n.Component)),L=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{getUserData:function(t){return e(w(t))}}})(Object(f.e)(T)),I=a(171),D=function(e){return"/profile/".concat(e)},U=function(e){var t=e.split("/");if("profile"===t[1])return t[2]},A=function(e,t){var a="January February March April May June July August September October November December".split(" "),n=new Date(e),r=a[n.getMonth()+1],s=n.getDate(),o=n.getFullYear(),l=n.getHours(),c=n.getMinutes()>10?n.getMinutes():"0"+n.getMinutes(),i="AM";l>11&&(i="PM",l=0===(l-=12)?12:l);var u="".concat(l,":").concat(c," ").concat(i);return"".concat(r," ").concat(s,", ").concat(o," ").concat(t?u:"")},M=function(e){return{backgroundImage:"url(".concat(e,")")}},_=function(e){return new Promise(function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}})},B=function(e){return new Promise(function(t,a){var n=new Image;n.src=e,n.setAttribute("crossOrigin","anonymous"),n.onload=function(){var e=document.createElement("canvas");e.width=n.width,e.height=n.height,e.getContext("2d").drawImage(n,0,0);var a=e.toDataURL("image/png");a=a.replace(/^data:image\/(png|jpg);base64,/,""),t(a)}})},H=(a(120),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).cancelUploadHandler=function(){e.props.clearSelectedFile(e.props.type)},e.fileInputChangeHandler=function(t){var a=t.target.files[0];_(a).then(function(t){e.props.selectFile(a,t,e.props.type)}).catch(function(e){return console.log(e)})},e.fileUploadHandler=function(){e.setState({isLoading:!0});var t="PROFILE"===e.props.type?e.props.user.selectedFileBase64ProfileImg:e.props.user.selectedFileBase64SplashImg,a=sessionStorage.getItem("twitterCloneToken"),n=e.props.type;e.props.uploadImage(t,n,a).then(function(t){t.success&&(e.setState({isLoading:!1}),window.location.reload())}).catch(function(e){return console.log(e)})},e.renderBtns=function(){var t=r.a.createElement("button",{className:"btn btn-block mt-1 btn-sm btn-primary mb-1",onClick:function(){return e.fileInput.click()}},"Change photo");return"PROFILE"===e.props.type&&e.props.user.selectedFileProfileImg?r.a.createElement(r.a.Fragment,null,t,e.state.isLoading?e.renderLoader():r.a.createElement("button",{className:"btn btn-block btn-sm btn-success mb-1",onClick:e.fileUploadHandler},"Save"),r.a.createElement("button",{className:"btn btn-block btn-sm btn-danger mb-1",onClick:e.cancelUploadHandler},"Cancel")):"SPLASH"===e.props.type&&e.props.user.selectedFileSplashImg?r.a.createElement(r.a.Fragment,null,t,e.state.isLoading?e.renderLoader():r.a.createElement("button",{className:"btn btn-block btn-sm btn-success mb-1",onClick:e.fileUploadHandler},"Save"),r.a.createElement("button",{className:"btn btn-block btn-sm btn-danger my-2",onClick:e.cancelUploadHandler},"Cancel")):t},e.renderLoader=function(){return r.a.createElement("div",{className:"text-center my-2"},r.a.createElement(j.a,{variant:"success",animation:"border",size:"sm",role:"status"}))},e.state={isLoading:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},r.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.fileInputChangeHandler,ref:function(t){return e.fileInput=t}}),this.renderBtns())}}]),t}(n.Component)),W=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{uploadImage:function(t,a,n){return e(O(t,a,n))},selectFile:function(t,a,n){return e(function(e,t,a){return function(n){var r=null;switch(a){case"PROFILE":r={selectedFileProfileImg:e,selectedFileBase64ProfileImg:t};break;case"SPLASH":r={selectedFileSplashImg:e,selectedFileBase64SplashImg:t}}n({type:"UPDATE_USER_STATE",payload:r})}}(t,a,n))},clearSelectedFile:function(t){return e(function(e){return function(t){var a=null;"PROFILE"===e?a={selectedFileProfileImg:null,selectedFileBase64ProfileImg:null}:"SPLASH"===e&&(a={selectedFileSplashImg:null,selectedFileBase64SplashImg:null}),t({type:"UPDATE_USER_STATE",payload:a})}}(t))}}})(H),V=(a(121),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).tabClickHandler=function(e){["TWEETS","FOLLOWING","FOLLOWERS","MESSAGES"].includes(e)&&(a.props.getUserData(sessionStorage.getItem("twitterCloneToken")),a.props.setCurrentView(e,a.props.isDashboard))},a.getTabClassName=function(){return"header-btn stat-box list-unstyled px-2 py-3 m-0 text-center d-flex flex-column align-items-center justify-content-center"},a.renderQuantityBadge=function(e){if(a.props.isDashboard&&e>0)return r.a.createElement(I.a,{className:"quantity-badge",variant:"danger"},e)},a.renderMessagesStat=function(){if(a.props.isDashboard)return r.a.createElement("ul",{onClick:function(){return a.tabClickHandler("MESSAGES")},className:a.getTabClassName()},r.a.createElement("li",null,r.a.createElement("p",{style:{position:"relative"},className:"my-0 mx-auto"},a.renderQuantityBadge(a.props.stats.newMessages),"Messages")),r.a.createElement("li",{className:"font-weight-bold"},a.props.stats.messages))},a.getSplashImgUrl=function(){return a.props.isDashboard?a.props.user.selectedFileBase64SplashImg?a.props.user.selectedFileBase64SplashImg:a.props.user.splashImgUrl:a.props.profile.splashImgUrl},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{maxWidth:"100vw"}},r.a.createElement("div",{id:"splash-container",className:"overflow-hidden d-flex flex-row pb-2 justify-content-center align-items-end",style:M(this.getSplashImgUrl())},this.props.isDashboard?r.a.createElement(W,{type:"SPLASH"}):null),r.a.createElement("div",{id:"tab-container",className:"bg-light shadow-sm my-0 p-0 d-flex flex-row flex-wrap justify-content-center align-items center"},r.a.createElement("ul",{onClick:function(){return e.tabClickHandler("TWEETS")},className:this.getTabClassName()},r.a.createElement("li",null,r.a.createElement("p",{style:{position:"relative"},className:"my-0 mx-auto"},"Tweets")),r.a.createElement("li",{className:"font-weight-bold"},this.props.stats.tweets)),this.renderMessagesStat(),r.a.createElement("ul",{onClick:function(){return e.tabClickHandler("FOLLOWING")},className:this.getTabClassName()},r.a.createElement("li",null,r.a.createElement("p",{style:{position:"relative"},className:"my-0 mx-auto"},"Following")),r.a.createElement("li",{className:"font-weight-bold"},this.props.stats.following)),r.a.createElement("ul",{onClick:function(){return e.tabClickHandler("FOLLOWERS")},className:this.getTabClassName()},r.a.createElement("li",null,r.a.createElement("p",{style:{position:"relative"},className:"my-0 mx-auto"},this.renderQuantityBadge(this.props.stats.newFollowRequests),"Followers")),r.a.createElement("li",{className:"font-weight-bold"},this.props.stats.followers)),r.a.createElement("ul",{className:this.getTabClassName()},r.a.createElement("li",null,r.a.createElement("p",{style:{position:"relative"},className:"my-0 mx-auto"},"Likes")),r.a.createElement("li",{className:"font-weight-bold"},this.props.stats.likes))))}}]),t}(n.Component)),q=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{setCurrentView:function(t,a){return e(y(t,a))},getUserData:function(t){return e(w(t))}}})(V),J=(a(122),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).changeHandler=function(t){e.setState({formValue:t.target.value})},e.formSubmitHandler=function(t){if(t.preventDefault(),e.state.formValue){e.setState({isLoading:!0});var a=sessionStorage.getItem("twitterCloneToken"),n={text:e.state.formValue};e.props.isReply?(n.profileId=e.props.data.userId,n.tweetId=e.props.data._id,e.props.reply(n,a).then(function(t){t.success&&e.setState({formValue:"",isLoading:!1})}).catch(function(e){return console.log(e)})):e.props.isReply||e.props.tweet(n,a).then(function(t){t.success&&(e.setState({formValue:"",isLoading:!1}),e.props.getFeed(a).catch(function(e){return console.log(e)}))}).catch(function(e){return console.log(e)})}},e.renderSubmitBtn=function(){var t=e.props.isReply?"Reply":"Tweet";return e.state.isLoading?r.a.createElement("div",{className:"text-center"},r.a.createElement(j.a,{variant:"primary",animation:"border",size:"sm",role:"status"})):r.a.createElement("button",{className:"btn btn-primary",onClick:e.formSubmitHandler},t)},e.state={isLoading:!1,formValue:"",placeholder:"Write a new tweet!"},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"text-right"},r.a.createElement("textarea",{type:"text",className:"mb-2 w-100",placeholder:this.state.placeholder,value:this.state.formValue,onChange:this.changeHandler}),this.renderSubmitBtn())}}]),t}(n.Component)),z=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{tweet:function(t,a){return e(function(e,t){return function(a){return new Promise(function(n,r){var s={"x-auth-token":t};E.a.post("/api/user/tweet",e,{headers:s}).then(function(e){e.data.success&&a({type:"UPDATE_USER_STATE",payload:e.data.body}),n(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t,a))},reply:function(t,a){return e(x(t,a))},getFeed:function(t){return e(N(t))}}})(J),G=(a(123),a(19)),Q=a.n(G),Y=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleLike=function(){var t=sessionStorage.getItem("twitterCloneToken"),a={profileId:e.props.data.userId,tweetId:e.props.data._id};e.props.like(a,t).catch(function(e){return console.log(e)})},e.handleReply=function(){e.props.user.isLoggedIn?e.toggleReplyModal():e.toggleLoginModal()},e.handleDelete=function(){var t=sessionStorage.getItem("twitterCloneToken"),a={tweet:e.props.data};e.props.deleteTweet(a,t,e.props.isDashboard).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})},e.toggleReplyModal=function(){e.setState(function(e){return{displayReplyModal:!e.displayReplyModal}})},e.toggleLoginModal=function(){e.setState(function(e){return{displayLoginModal:!e.displayLoginModal}})},e.toggleViewReplies=function(){e.setState(function(e){return{viewReplies:!e.viewReplies}})},e.getFormattedDate=function(e){var t="January February March April May June July August September October November December".split(" "),a=new Date(e),n=t[a.getMonth()+1],r=a.getDate(),s=a.getFullYear(),o=a.getHours(),l=a.getMinutes()>10?a.getMinutes():"0"+a.getMinutes(),c="AM";return o>11&&(c="PM",o=0===(o-=12)?12:o),"".concat(n," ").concat(r,", ").concat(s," ").concat(o,":").concat(l," ").concat(c)},e.renderLoginModal=function(){return e.state.displayLoginModal?r.a.createElement(Q.a,{centered:!0,className:"px-auto mx-auto",show:e.state.displayLoginModal,onHide:e.toggleLoginModal},r.a.createElement("div",{className:"modal-content overflow-hidden"},r.a.createElement(Q.a.Header,{className:"m-0 px-2 py-1"},r.a.createElement(Q.a.Title,{className:"h5"},"Log in"),r.a.createElement("button",{type:"button",className:"close",onClick:e.toggleLoginModal},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement(Q.a.Body,{className:"p-0 m-0"},r.a.createElement("div",{className:"bg-light py-4"},r.a.createElement(P,null))))):null},e.renderTweeter=function(){return r.a.createElement(z,{isReply:!0,data:e.props.data})},e.renderReplyModal=function(){if(e.state.displayReplyModal)return r.a.createElement(Q.a.Dialog,{size:"lg"},r.a.createElement(Q.a.Header,{className:"m-0 px-2 py-1"},r.a.createElement(Q.a.Title,{className:"h5"},"Reply"),r.a.createElement("button",{type:"button",className:"close",onClick:e.toggleReplyModal},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement(Q.a.Body,{className:"p-3 m-0"},e.renderTweeter()))},e.renderRepliesViewer=function(){if(e.state.viewReplies){var a=e.props.data.replies.slice().reverse().map(function(e){return r.a.createElement(t,{key:e._id,data:e,isReply:"true"})});return r.a.createElement(Q.a,{centered:!0,className:"px-auto mx-auto",show:e.state.viewReplies,onHide:e.toggleViewReplies},r.a.createElement("div",{className:"modal-content overflow-hidden"},r.a.createElement(Q.a.Header,{className:"m-0 px-2 py-1"},r.a.createElement(Q.a.Title,{className:"h5"},"View Replies"),r.a.createElement("button",{type:"button",className:"close",onClick:e.toggleViewReplies},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement(Q.a.Body,{className:"p-0 m-0 d-flex flex-column justify-content-center align-items-center"},e.props.data.replies.length?a:r.a.createElement("p",{className:"mx-auto text-sm-center mt-3 mx-auto font-italic"},"This tweet does not have any replies."))))}},e.renderLikeIcon=function(){return e.props.data.likes.includes(e.props.user.username)?r.a.createElement(C.a,{className:"fa-icon-link text-silver icon-sm clickable",icon:["fas","heart"],onClick:e.handleLike}):r.a.createElement(C.a,{className:"fa-icon-link text-silver icon-sm clickable",icon:["far","heart"],onClick:e.handleLike})},e.renderDeleteIcon=function(){if(e.props.user&&e.props.data.username===e.props.user.username)return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},r.a.createElement(C.a,{className:"fa-icon-link text-silver icon-sm clickable",icon:["fas","trash"],onClick:e.handleDelete}))},e.renderReplyBtn=function(){if(e.props.user.isLoggedIn&&(e.props.user.following.includes(e.props.data.username)||e.props.user.username===e.props.data.username))return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},r.a.createElement(C.a,{className:"fa-icon-link text-silver icon-sm clickable",icon:["fas","reply"],onClick:e.handleReply}))},e.state={displayReplyModal:!1,displayLoginModal:!1,viewReplies:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.data.replies.length===this.props.data.replies.length+1&&this.setState({displayReplyModal:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid p-2 my-0 text-right bg-light shadow"},r.a.createElement("div",{className:"container d-flex"},r.a.createElement("div",{className:"tweet-portrait-container",style:M(this.props.data.profileImgUrl)}),r.a.createElement("div",{className:"ml-3 my-0 flex-grow-1"},r.a.createElement("div",{className:"d-flex flex-row flex-wrap justify-content-between tweet-header"},r.a.createElement("div",{className:"d-flex flex-column align-items-start"},r.a.createElement("p",{className:"font-weight-bold my-0"},this.props.data.firstName,", ",this.props.data.lastName),r.a.createElement(p.b,{className:"text-secondary my-0",to:D(this.props.data.username)},"@",this.props.data.username)),r.a.createElement("p",{className:"text-secondary"},A(this.props.data.date))),r.a.createElement("p",{className:"tweet-body m-0 pt-2 pb-4"},this.props.data.text),this.props.isReply?null:r.a.createElement("div",{className:"d-flex mx-auto p-0 btn-group-sm justify-content-between"},r.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},r.a.createElement("p",{className:"my-0 mx-1 p-0 text-silver"},this.props.data.likes.length),this.renderLikeIcon()),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},r.a.createElement("p",{className:"my-0 mx-1 p-0 text-silver"},this.props.data.replies.length),r.a.createElement(C.a,{className:"fa-icon-link text-silver icon-sm clickable",icon:["fas","comment-dots"],onClick:this.toggleViewReplies})),this.renderReplyBtn(),this.renderDeleteIcon()))),this.renderReplyModal(),this.renderLoginModal(),this.renderRepliesViewer())}}]),t}(n.Component),$=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{like:function(t,a){return e(function(e,t){return function(a){return new Promise(function(n,r){var s={"x-auth-token":t};E.a.post("/api/user/like",e,{headers:s}).then(function(e){e.data.success&&a({type:"UPDATE_TWEET",payload:e.data.body}),n(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t,a))},reply:function(t,a){return e(x(t,a))},deleteTweet:function(t,a,n){return e(function(e,t,a){return function(n){return new Promise(function(r,s){var o={"x-auth-token":t};console.log("making post request to server"),E.a.post("/api/user/deleteTweet",e,{headers:o}).then(function(e){e.data.success&&n(a?{type:"UPDATE_USER_STATE",payload:e.data.body}:{type:"UPDATE_PROFILE_STATE",payload:e.data.body}),r(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t,a,n))}}})(Object(f.e)(Y)),Z=(a(154),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).renderFeed=function(){var e=a.props.user.feed.slice().reverse();return e.length?e.map(function(e){return r.a.createElement($,{isDashboard:!0,data:e,key:e._id})}):r.a.createElement("p",{className:"font-italic text-secondary"},"No feed.")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=sessionStorage.getItem("twitterCloneToken");this.props.user.following.length>0&&this.props.getFeed(e).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{icon:["fas","dove"],className:"icon-sm mb-2 text-primary"}),r.a.createElement("h5",null,"Feed:"),r.a.createElement("div",{className:"shadow mb-3 p-4 bg-light"},r.a.createElement(z,null)),this.renderFeed())}}]),t}(n.Component)),K=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{getFeed:function(t){return e(N(t))}}})(Z),X=(a(155),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).renderName=function(){var e=a.props.isDashboard?a.props.user:a.props.profile;return r.a.createElement("h5",{className:"font-weight-bold"},e.firstName,", ",e.lastName)},a.renderUsername=function(){var e=a.props.isDashboard?a.props.user:a.props.profile;return r.a.createElement("p",{className:"text-secondary mb-1"},"@",e.username)},a.renderEmail=function(){var e=a.props.isDashboard?a.props.user:a.props.profile;if(e.settings.displayLocation)return r.a.createElement("p",{className:"m-0"},e.email)},a.renderLocation=function(){var e=a.props.isDashboard?a.props.user:a.props.profile;if(e.settings.displayLocation)return r.a.createElement("p",{className:"m-0"},e.city,", ",e.state)},a.renderBio=function(){var e=a.props.isDashboard?a.props.user:a.props.profile;return r.a.createElement("p",{className:"my-3 font-italic"},e.bio)},a.renderBirthday=function(){var e=a.props.isDashboard?a.props.user:a.props.profile;if(e.settings.displayBirthday)return r.a.createElement("p",{className:"my-0 text-secondary"},"Birthday: ",e.birthday)},a.getProfileImgSrc=function(){return a.props.isDashboard?a.props.user.selectedFileBase64ProfileImg?a.props.user.selectedFileBase64ProfileImg:a.props.user.profileImgUrl:a.props.profile.profileImgUrl},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex flex-row flex-wrap"},r.a.createElement("div",{id:"portrait-container",className:"mb-2 mr-3"},r.a.createElement("img",{className:"img-thumbnail",src:this.getProfileImgSrc(),alt:"Profile"}),this.props.isDashboard?r.a.createElement(W,{type:"PROFILE"}):null),r.a.createElement("div",{id:"bio-text-container"},this.renderName(),this.renderUsername(),this.renderEmail(),this.renderLocation(),this.renderBio(),this.renderBirthday(),r.a.createElement("p",{className:"my-0 text-secondary"},"Joined: ",A(this.props.data.dateJoined))))}}]),t}(n.Component)),ee=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{}})(X),te=(a(156),a(157),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"user-card shadow bg-light d-flex flex-column align-items-center justify-content-end m-2 p-0",style:M(this.props.data.splashImgUrl)},r.a.createElement("div",{className:"user-card-portrait-container",style:M(this.props.data.profileImgUrl)}),r.a.createElement("div",{className:"user-card-text-container text-left mt-0 mx-0 px-2 pt-3 container-fluid"},r.a.createElement("p",{className:"m-0 p-0 small"},this.props.data.firstName," ",this.props.data.lastName),r.a.createElement(p.b,{className:"m-0 p-0 text-secondary",to:D(this.props.data.username)},"@",this.props.data.username)))}}]),t}(n.Component)),ae=(a(158),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).refreshUserCards=function(){e.setState({isLoading:!0});var t=e.props.isDashboard?e.props.user:e.props.profile;e.props.getUserCards(t.followers,e.props.isDashboard,"followersUserCards").then(function(t){e.setState({isLoading:!1})}).catch(function(e){return console.log(e)}),e.props.isDashboard&&e.props.getUserCards(t.incomingFollowRequests,e.props.isDashboard,"incomingFollowRequestsUserCards").then(function(t){e.setState({isLoading:!1})}).catch(function(e){return console.log(e)})},e.handleFollowRequest=function(t,a){var n=sessionStorage.getItem("twitterCloneToken"),r={username:t,accept:a};e.props.followRequestResponse(r,n).catch(function(e){return console.log(e)})},e.renderFollowers=function(){if(e.state.isLoading)return r.a.createElement("div",{className:"container text-center py-4"},r.a.createElement(j.a,{animation:"border",variant:"primary"}));var t=e.props.isDashboard?e.props.user:e.props.profile;return 0===t.followers.length?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("p",{className:"text-center small font-italic my-5 text-secondary"},t.username," has no followers.")):r.a.createElement("div",{className:"d-flex flex-row flex-wrap mb-5 user-cards-container"},t.followersUserCards.map(function(e){return r.a.createElement(te,{data:e})}))},e.renderFollowRequests=function(){var t=e.props.isDashboard?e.props.user:e.props.profile;return e.state.isLoading?null:e.props.isDashboard?t.incomingFollowRequestsUserCards.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{icon:["fas","dove"],className:"icon-sm mb-2 text-primary"}),r.a.createElement("h5",null,"Follow Requests:"),r.a.createElement("div",{className:"d-flex flex-row mb-5 user-cards-container"},t.incomingFollowRequestsUserCards.map(function(t){return r.a.createElement("div",{className:"text-center"},r.a.createElement(te,{data:t}),r.a.createElement("div",{className:"request-btn-container"},r.a.createElement("button",{className:"btn btn-success request-btn mx-1 shadow text-center",onClick:function(){return e.handleFollowRequest(t.username,!0)}},r.a.createElement(C.a,{icon:["fas","check"],className:"text-light"})),r.a.createElement("button",{className:"btn btn-danger request-btn mx-1 shadow text-center",onClick:function(){return e.handleFollowRequest(t.username,!1)}},r.a.createElement(C.a,{icon:["fas","times"],className:"text-light"}))))}))):void 0:null},e.state={isLoading:!0},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.refreshUserCards()}},{key:"componentDidUpdate",value:function(e){this.props.isDashboard&&(e.user.followers===this.props.user.followers&&e.user.incomingFollowRequests===this.props.user.incomingFollowRequests||this.refreshUserCards())}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderFollowRequests(),r.a.createElement(C.a,{icon:["fas","dove"],className:"icon-sm mb-2 text-primary"}),r.a.createElement("h5",null,"Followers:"),r.a.createElement("div",{className:"d-flex flex-row flex-wrap"},this.renderFollowers()))}}]),t}(n.Component)),ne=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{followRequestResponse:function(t,a){return e(function(e,t){return function(a){return new Promise(function(n,r){var s={"x-auth-token":t};E.a.post("/api/user/followRequestResponse",e,{headers:s}).then(function(e){e.data.success&&a({type:"UPDATE_USER_STATE",payload:e.data.body}),n(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t,a))},getUserCards:function(t,a,n){return e(S(t,a,n))}}})(ae),re=(a(159),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).refreshUserCards=function(){var e=a.props.isDashboard?a.props.user:a.props.profile;a.props.getUserCards(e.following,a.props.isDashboard,"followingUserCards").catch(function(e){return console.log(e)}),a.props.isDashboard&&a.props.getUserCards(e.outgoingFollowRequests,a.props.isDashboard,"outgoingFollowRequestsUserCards").catch(function(e){return console.log(e)})},a.renderFollows=function(){var e=a.props.isDashboard?a.props.user:a.props.profile;return 0===e.following.length?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("p",{className:"text-center small font-italic my-5 text-secondary"},e.username," is not following anyone.")):r.a.createElement("div",{className:"d-flex flex-row flex-wrap mb-5 user-cards-container"},e.followingUserCards.map(function(e){return r.a.createElement(te,{data:e})}))},a.renderPendingFollows=function(){var e=a.props.isDashboard?a.props.user:a.props.profile;return a.props.isDashboard?e.outgoingFollowRequests.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{icon:["fas","dove"],className:"icon-sm mb-2 text-primary"}),r.a.createElement("h5",null,"Pending:"),r.a.createElement("div",{className:"d-flex flex-row flex-wrap mb-5 user-cards-container"},e.outgoingFollowRequestsUserCards.map(function(e){return r.a.createElement(te,{data:e})}))):void 0:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.refreshUserCards()}},{key:"componentDidUpdate",value:function(e){this.props.isDashboard&&(e.user.following===this.props.user.following&&e.user.outgoingFollowRequests===this.props.user.outgoingFollowRequests||this.refreshUserCards())}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderPendingFollows(),r.a.createElement(C.a,{icon:["fas","dove"],className:"icon-sm mb-2 text-primary"}),r.a.createElement("h5",null,"Following:"),r.a.createElement("div",{className:"d-flex flex-row flex-wrap"},this.renderFollows()))}}]),t}(n.Component)),se=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{getUserCards:function(t,a,n){return e(S(t,a,n))}}})(re),oe=a(172),le=(a(160),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).deleteMessageHandler=function(t){var a={task:"DELETE",messageId:t._id},n=sessionStorage.getItem("twitterCloneToken");e.props.updateMessages(a,n).then(function(t){e.setState({messages:t.body.messages})}).catch(function(e){return console.log(e)})},e.toggleMessageModal=function(t){e.setState(function(e){return{showMessageModal:!e.showMessageModal,currentMessage:t||{}}})},e.markRead=function(t){if(!1===t.read){var a={task:"READ",messageId:t._id},n=sessionStorage.getItem("twitterCloneToken");e.props.updateMessages(a,n).then(function(t){e.setState({messages:t.body.messages})})}},e.renderMessageModal=function(){return r.a.createElement(oe.a,{centered:!0,className:"px-auto mx-auto",show:e.state.showMessageModal,onHide:e.toggleMessageModal},r.a.createElement("div",{className:"modal-content overflow-hidden"},r.a.createElement(oe.a.Header,{className:"m-0 px-2 py-1"},r.a.createElement(oe.a.Title,{className:"h5"},"View Message"),r.a.createElement("button",{type:"button",className:"close",onClick:e.toggleMessageModal},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement(oe.a.Body,{className:"p-3 m-0"},r.a.createElement("p",{className:"my-0"},r.a.createElement("span",{className:"font-weight-bold"},"Date:")," ",A(e.state.currentMessage.date,!0)),r.a.createElement("p",{className:"my-0"},r.a.createElement("span",{className:"font-weight-bold"},"From:")," ",e.state.currentMessage.from),r.a.createElement("p",{className:"my-0"},r.a.createElement("span",{className:"font-weight-bold"},"Subject:")," ",e.state.currentMessage.subject),r.a.createElement("p",{className:"py-3"},e.state.currentMessage.body))))},e.getMessageBgColor=function(e){switch(e){case!0:return{backgroundColor:"#ebebeb"};case!1:return{backgroundColor:"none"}}},e.renderMessages=function(){return e.state.isLoading?r.a.createElement("div",{className:"container text-center py-4"},r.a.createElement(j.a,{animation:"border",variant:"primary"})):0===e.state.messages.length?r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"font-italic text-secondary text-center py-4"},"You have no messages.")):r.a.createElement("div",{id:"messages-container"},e.state.messages.map(function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:e.getMessageBgColor(t.read),className:"row m-0 p-0 d-flex message-row flex-row flex-nowrap justify-content-start align-items-center",onClick:function(){e.toggleMessageModal(t),e.markRead(t)}},r.a.createElement("p",{className:"col-md-3 m-0 px-2 py-1 small message-date"},A(t.date,!0)),r.a.createElement("p",{className:"col-md-3 m-0 p-1 message-from"},t.from),r.a.createElement("p",{className:"col-md-5 m-0 p-1 message-subject"},t.subject),r.a.createElement(C.a,{icon:["fas","trash"],onClick:function(a){a.stopPropagation(),e.deleteMessageHandler(t)},className:"col-md-1 mr-2 p-0 clickable trash-icon"})))}))},e.state={showMessageModal:!1,messages:[],currentMessage:{},isLoading:!0},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.getMessages(sessionStorage.getItem("twitterCloneToken")).then(function(t){e.setState({messages:t.body.messages,isLoading:!1})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{icon:["fas","dove"],className:"icon-sm mb-2 text-primary"}),r.a.createElement("h5",null,"Messages:"),r.a.createElement("div",{className:"bg-light shadow"},r.a.createElement("div",{id:"messages-container-header-bar",className:"row row m-0 p-0 d-flex flex-row flex-nowrap justify-content-start align-items-center"},r.a.createElement("p",{className:"col-md-3 m-0 p-2 font-weight-bold"},"Date"),r.a.createElement("p",{className:"col-md-3 m-0 p-2 font-weight-bold"},"Sender"),r.a.createElement("p",{className:"col-md-5 m-0 p-2 font-weight-bold"},"Subject")),this.renderMessages()),this.renderMessageModal())}}]),t}(n.Component)),ce=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{getMessages:function(t){return e(function(e){return function(t){return new Promise(function(a,n){var r={"x-auth-token":e};E.a.get("/api/user/messages",{headers:r}).then(function(e){if(e.data.success){var n={stats:e.data.body.stats,messages:e.data.body.messages};t({type:"UPDATE_USER_MESSAGES",payload:n})}a(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t))},updateMessages:function(t,a){return e(function(e,t){return function(a){return new Promise(function(n,r){var s={"x-auth-token":t};E.a.post("/api/user/messages",e,{headers:s}).then(function(e){if(e.data.success){var t={stats:e.data.body.stats,messages:e.data.body.messages};a({type:"UPDATE_USER_MESSAGES",payload:t})}n(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t,a))}}})(le),ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).renderLoader=function(){return r.a.createElement("div",{className:"text-center my-5 py-5 container-fluid"},r.a.createElement(j.a,{variant:"primary",animation:"border",role:"status"}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.setCurrentView("TWEETS",!0)}},{key:"renderComponentBody",value:function(){switch(this.props.user.currentView){case"TWEETS":return r.a.createElement(K,null);case"FOLLOWERS":return r.a.createElement(ne,{isDashboard:!0});case"FOLLOWING":return r.a.createElement(se,{isDashboard:!0});case"MESSAGES":return r.a.createElement(ce,null);default:return null}}},{key:"render",value:function(){return r.a.createElement("div",{className:"pb-5"},r.a.createElement(q,{stats:this.props.user.stats,splashImgUrl:this.props.user.splashImgUrl,isDashboard:!0}),null===this.props.user.username?this.renderLoader():r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 mb-5"},r.a.createElement(ee,{data:this.props.user,isDashboard:!0})),r.a.createElement("div",{className:"col-md-7 mb-2 mr-2"},this.renderComponentBody()))))}}]),t}(n.Component),ue=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{setCurrentView:function(t,a){return e(y(t,a))}}})(ie),me=(a(161),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderFeed",value:function(){if(this.props.profile.hiddenTweets)return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("p",{className:"text-center small font-italic my-5 text-secondary"},"This profile is private."));if(0===this.props.profile.tweets.length)return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("p",{className:"text-center small font-italic my-5 text-secondary"},this.props.profile.username," has no tweets."));var e=this.props.profile.tweets;return e.length?e.slice().reverse().map(function(e){return r.a.createElement($,{data:e,isDashboard:!1,key:e._id})}):void 0}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{icon:["fas","dove"],className:"icon-sm mb-2 text-primary"}),r.a.createElement("h5",null,"Tweets:"),this.renderFeed())}}]),t}(n.Component)),de=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{}})(me),pe=(a(162),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).renderFollowBtn=function(){if(e.state.isFollowLoading)return e.renderLoader();var t=e.props.user,a=e.props.profile,n="";return t.isLoggedIn&&t.username!==a.username?(n=t.outgoingFollowRequests.includes(a.username)?"Cancel follow request":t.following.includes(a.username)?"Unfollow":"Follow",r.a.createElement("button",{className:"btn btn-block btn-primary",onClick:e.handleFollowBtn},n)):null},e.handleFollowBtn=function(){e.setState({isFollowLoading:!0});var t=sessionStorage.getItem("twitterCloneToken"),a={profileId:e.props.profile._id};e.props.follow(a,t).then(function(t){e.setState({isFollowLoading:!1})}).catch(function(e){return console.log(e)})},e.renderLoader=function(){return r.a.createElement("div",{className:"text-center my-5 py-5"},r.a.createElement(j.a,{variant:"primary",animation:"border",size:"sm",role:"status"}))},e.state={isFollowLoading:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=U(this.props.history.location.pathname);this.refreshProfileData(t),this.unlisten=this.props.history.listen(function(t){var a=U(t.pathname);e.refreshProfileData(a)})}},{key:"componentWillReceiveProps",value:function(e){!this.props.user.isLoggedIn&&e.user.isLoggedIn&&this.refreshProfileData(e.profile.username)}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"refreshProfileData",value:function(e){var t=sessionStorage.getItem("twitterCloneToken");this.props.getProfileData(e,t).catch(function(e){return console.log(e)})}},{key:"renderComponentBody",value:function(){switch(this.props.profile.currentView){case"TWEETS":return r.a.createElement(de,null);case"FOLLOWERS":return r.a.createElement(ne,{isDashboard:!1});case"FOLLOWING":return r.a.createElement(se,{isDashboard:!1});default:return null}}},{key:"render",value:function(){return r.a.createElement("div",{className:"pb-5"},r.a.createElement(q,{stats:this.props.profile.stats,splashImgUrl:this.props.profile.splashImgUrl,isDashboard:!1}),null===this.props.profile.username?this.renderLoader():r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-3 mb-5 mr-2"},r.a.createElement(ee,{data:this.props.profile}),this.renderFollowBtn()),r.a.createElement("div",{className:"col-sm-7 mb-2 mr-2"},this.renderComponentBody()))))}}]),t}(n.Component)),fe=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{getProfileData:function(t,a){return e(v(t,a))},follow:function(t,a){return e(function(e,t){return function(a){return new Promise(function(n,r){var s={"x-auth-token":t};E.a.post("/api/user/follow",e,{headers:s}).then(function(e){e.data.success&&(a({type:"UPDATE_PROFILE_STATE",payload:e.data.body.profile}),a({type:"UPDATE_USER_STATE",payload:e.data.body.user})),n(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t,a))}}})(Object(f.e)(pe)),ge=function(e,t){return!!t||"*This field is required."},he=function(e,t,a){return!(t.length<a)||"*Minimum length: "+a},be=function(e,t){return e===t||"*Passwords do not match."},Ee=function(e,t){for(var a=t.split(""),n=0,r=0;r<a.length;r++)"@"===a[r]&&n++;return 1===n||"*Please enter a valid email address."},ye=function(e,t){var a=new RegExp("^[a-zA-Z]+$");return!t||!1!==a.test(t)||"*This field only accepts letters of the alphabet."},ve=function(e,t){var a=new RegExp("^[a-zA-Z0-9]+$");return!t||!1!==a.test(t)||"*This field only accepts alphanumeric characters."},we=(a(163),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).toggleEditProfileInfo=function(){e.setState(function(e){return{editProfileInfo:!e.editProfileInfo}})},e.toggleChangePassword=function(){e.setState(function(e){return{changePassword:!e.changePassword}})},e.toggleDeleteAccount=function(){e.setState(function(e){return{deleteAccount:!e.deleteAccount}})},e.renderDeleteAccountForm=function(){return r.a.createElement("form",{onChange:e.formChangeHandler,onSubmit:e.deleteAccountFormSubmitHandler},r.a.createElement("div",{className:"btn-container row py-1 pr-3 mt-3 d-flex flex-row justify-content-end"},e.state.isPasswordFormLoading?e.renderLoader():r.a.createElement("input",{type:"submit",className:"btn btn-sm btn-success ml-1 mb-2",value:"Delete Account"}),r.a.createElement("button",{className:"btn btn-sm btn-danger ml-1 mb-2",onClick:e.toggleDeleteAccount},"Cancel")),r.a.createElement("p",{className:"text-center"},"To delete your account, please enter your password:"),r.a.createElement("input",{onChange:e.formInputHandler,className:"form-control",type:"password",name:"deleteAccountPassword"}),r.a.createElement("p",{className:"small text-danger font-italic"},e.state.errors.deleteAccountPassword))},e.renderChangePasswordForm=function(){if(e.state.changePassword)return r.a.createElement("form",{onChange:e.formChangeHandler,onSubmit:e.changePasswordFormSubmitHandler},r.a.createElement("div",{className:"btn-container row py-1 pr-3 mt-3 d-flex flex-row justify-content-end"},e.state.isPasswordFormLoading?e.renderLoader():r.a.createElement("input",{type:"submit",className:"btn btn-sm btn-success ml-1 mb-2",value:"Save New Password"}),r.a.createElement("button",{className:"btn btn-sm btn-danger ml-1 mb-2",onClick:e.toggleChangePassword},"Cancel")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Enter your password:"),r.a.createElement("input",{type:"password",className:"form-control",name:"oldPassword"}),r.a.createElement("p",{className:"small text-danger font-italic"},e.state.errors.oldPassword)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Choose a new password:"),r.a.createElement("input",{type:"password",className:"form-control",name:"newPassword"}),r.a.createElement("p",{className:"small text-danger font-italic"},e.state.errors.newPassword)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Re-enter your new password:"),r.a.createElement("input",{type:"password",className:"form-control",name:"newPassword2"}),r.a.createElement("p",{className:"small text-danger font-italic"},e.state.errors.newPassword2)))},e.formChangeHandler=function(t){var a=t.target.name,n="checkbox"===t.target.type?t.target.checked:t.target.value;e.setState(Object(h.a)({},a,n)),e.setState(Object(h.a)({},a+"Touched",!0)),e.validateField(a,n)},e.isFormValid=function(t){t.forEach(function(t){e.validateField(t,e.state[t])});for(var a=0;a<t.length;a++)if(e.state.errors[t[a]])return!1;return!0},e.deleteAccountFormSubmitHandler=function(t){if(e.setState({isDeleteFormLoading:!0}),t.preventDefault(),e.isFormValid(["deleteAccountPassword"])){var a=sessionStorage.getItem("twitterCloneToken"),n={password:t.target.deleteAccountPassword.value};e.props.deleteAccount(n,a).then(function(t){e.setState({serverRes:t,isDeleteFormLoading:!1}),t.success&&(e.setState({deleteAccount:!1}),sessionStorage.removeItem("twitterCloneToken"))})}},e.editProfileFormSubmitHandler=function(t){e.setState({isProfileFormLoading:!0}),t.preventDefault();var a={city:t.target.city.value,state:t.target.state.value,email:t.target.email.value,bio:t.target.bio.value,settings:{displayEmail:t.target.displayEmail.checked,displayLocation:t.target.displayLocation.checked,displayBirthday:t.target.displayBirthday.checked,isPrivate:t.target.isPrivate.checked}};if(e.isFormValid(Object.keys(a))){var n=sessionStorage.getItem("twitterCloneToken");e.props.updateUserData(a,n).then(function(t){e.setState({serverRes:t,isProfileFormLoading:!1}),t.success&&e.setState({editProfileInfo:!1})})}},e.changePasswordFormSubmitHandler=function(t){t.preventDefault(),e.setState({isPasswordFormLoading:!0});var a={password:t.target.oldPassword.value,newPassword:t.target.newPassword.value};if(e.isFormValid(Object.keys(a))){var n=sessionStorage.getItem("twitterCloneToken");e.props.changePassword(a,n).then(function(t){e.setState({serverRes:t,isPasswordFormLoading:!1}),t.success&&e.setState({changePassword:!1})})}},e.validateField=function(t,a){switch(t){case"city":e.setErrors("city",[ge(t,a),ye(t,a)]);break;case"state":e.setErrors("state",[ge(t,a),ye(t,a)]);break;case"email":e.setErrors("email",[ge(t,a),Ee(t,a)]);break;case"bio":e.setErrors("bio",[ge(t,a)]);break;case"oldPassword":e.setErrors("oldPassword",[ge(t,a)]);break;case"newPassword":e.setErrors("newPassword",[ge(t,a),he(t,a,6)]);break;case"newPassword2":e.setErrors("newPassword2",[ge(t,a),be(e.state.newPassword,a)]);break;case"deleteAccountPassword":e.setErrors("deleteAccountPassword",[ge(t,a)])}},e.formInputHandler=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.renderLoader=function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement(j.a,{variant:"success",animation:"border",size:"sm",role:"status"}))},e.state={isProfileFormLoading:!1,isPasswordFormLoading:!1,isDeleteFormLoading:!1,serverRes:{},city:"",state:"",bio:"",email:"",editProfileInfo:!1,changePassword:!1,deleteAccount:!1,deleteAccountPassword:"",settings:{displayEmail:!1,displayLocation:!1,displayBirthday:!1,isPrivate:!1},errors:{oldPassword:"",newPassword:"",city:"",state:"",bio:"",email:""}},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fillFormsWithProps(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.fillFormsWithProps(e)}},{key:"fillFormsWithProps",value:function(e){var t=Object(d.a)({},this.state,{city:e.user.city,state:e.user.state,bio:e.user.bio,email:e.user.email,displayEmail:e.user.settings.displayEmail,displayLocation:e.user.settings.displayLocation,displayBirthday:e.user.settings.displayBirthday,isPrivate:e.user.settings.isPrivate});this.setState(t)}},{key:"setErrors",value:function(e,t){var a=this,n=Object(d.a)({},this.state).errors;n[e]="",this.setState({errors:n}),t.forEach(function(t){!0!==t&&(n[e]=t,a.setState({errors:n}))})}},{key:"renderEditProfileForm",value:function(){if(this.state.editProfileInfo)return r.a.createElement("form",{onChange:this.formChangeHandler,onSubmit:this.editProfileFormSubmitHandler},r.a.createElement("div",{className:"btn-container row py-1 pr-3 mt-3 d-flex flex-row justify-content-end"},this.state.isProfileFormLoading?this.renderLoader():r.a.createElement("input",{type:"submit",className:"btn btn-sm btn-success ml-1 mb-2",value:"Save Profile Info"}),r.a.createElement("button",{className:"btn btn-sm btn-danger ml-1 mb-2",onClick:this.toggleEditProfileInfo},"Cancel")),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",null,"City:"),r.a.createElement("input",{type:"text",placeholder:"City",value:this.state.city,onChange:this.formInputHandler,name:"city",className:"form-control"}),r.a.createElement("p",{className:"small text-danger font-italic"},this.state.errors.city)),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",null,"State:"),r.a.createElement("input",{type:"text",placeholder:"State",value:this.state.state,onChange:this.formInputHandler,name:"state",className:"form-control"}),r.a.createElement("p",{className:"small text-danger font-italic"},this.state.errors.state)),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",null,"Email address:"),r.a.createElement("input",{type:"text",placeholder:"Email address",value:this.state.email,onChange:this.formInputHandler,name:"email",className:"form-control"}),r.a.createElement("p",{className:"small text-danger font-italic"},this.state.errors.email)),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",null,"Bio:"),r.a.createElement("input",{type:"text",placeholder:"Bio",value:this.state.bio,name:"bio",onChange:this.formInputHandler,className:"form-control"}),r.a.createElement("p",{className:"small text-danger font-italic"},this.state.errors.bio)),r.a.createElement("div",{className:"form-group col-sm-12 d-flex flex-row justify-content-between align-items-center"},r.a.createElement("div",{className:"d-flex flex-wrap flex-row justify-content-center align-items-center text-center px-2"},r.a.createElement("input",{type:"checkbox",name:"displayEmail",value:"displayEmail",checked:this.state.displayEmail,onChange:this.formInputHandler})," Display email"),r.a.createElement("div",{className:"d-flex flex-wrap flex-row justify-content-center align-items-center text-center px-2"},r.a.createElement("input",{type:"checkbox",name:"displayLocation",value:"displayLocation",checked:this.state.displayLocation,onChange:this.formInputHandler})," Display location"),r.a.createElement("div",{className:"d-flex flex-wrap flex-row justify-content-center align-items-center text-center px-2"},r.a.createElement("input",{type:"checkbox",name:"displayBirthday",value:"displayBirthday",checked:this.state.displayBirthday,onChange:this.formInputHandler})," Display birthday"),r.a.createElement("div",{className:"d-flex flex-wrap flex-row justify-content-center align-items-center text-center px-2"},r.a.createElement("input",{type:"checkbox",name:"isPrivate",value:"isPrivate",checked:this.state.isPrivate,onChange:this.formInputHandler})," Private tweets"))))}},{key:"renderServerMsg",value:function(){if(!this.state.serverRes.message)return null;var e="text-center small font-italic";return this.state.serverRes.success?e+=" text-success":this.state.serverRes.success||(e+=" text-danger"),r.a.createElement("p",{className:e},"*",this.state.serverRes.message)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid d-flex py-5 justify-content-center align-items-center"},r.a.createElement("div",{id:"settings-content-container",className:"shadow p-4 mt-5 bg-light"},r.a.createElement("div",{className:"pb-3"},r.a.createElement(C.a,{icon:["fas","dove"],className:"icon-sm mb-2 text-primary"}),r.a.createElement("h1",null,"Account settings"),r.a.createElement("h5",null,this.props.user.firstName," ",this.props.user.lastName),r.a.createElement("h6",null,"@",this.props.user.username)),r.a.createElement("div",null,this.renderServerMsg()),this.state.editProfileInfo?this.renderEditProfileForm():r.a.createElement("div",null,r.a.createElement("div",{className:"btn-container row py-1 mt-3"},r.a.createElement("button",{className:"btn btn-sm btn-primary ml-auto mr-3",onClick:this.toggleEditProfileInfo},"Edit profile")),r.a.createElement("p",{className:"py-1"},r.a.createElement("span",{className:"font-weight-bold"},"Location:"),"  ",this.props.user.city,", ",this.props.user.state),r.a.createElement("p",{className:"py-1"},r.a.createElement("span",{className:"font-weight-bold"},"Email address:"),"  ",this.props.user.email),r.a.createElement("p",{className:"py-1"},r.a.createElement("span",{className:"font-weight-bold"},"Bio:"),"  ",this.props.user.bio)),this.state.changePassword?this.renderChangePasswordForm():r.a.createElement("div",{className:"btn-container row py-1 mt-3"},r.a.createElement("button",{className:"btn btn-sm btn-primary ml-auto mr-3",onClick:this.toggleChangePassword},"Change password")),this.state.deleteAccount?this.renderDeleteAccountForm():r.a.createElement("div",{className:"btn-container row py-1 mt-3"},r.a.createElement("button",{className:"btn btn-sm btn-danger ml-auto mr-3",onClick:this.toggleDeleteAccount},"Delete Account"))))}}]),t}(n.Component)),Ne=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{updateUserData:function(t,a){return e(function(e,t){return function(a){return new Promise(function(n,r){var s={"x-auth-token":t};E.a.put("/api/user/updateUserData",e,{headers:s}).then(function(e){e.data.success&&a({type:"UPDATE_USER_STATE",payload:e.data.body}),n(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t,a))},changePassword:function(t,a){return e(function(e,t){return function(a){return new Promise(function(a,n){var r={"x-auth-token":t};E.a.put("/api/user/changePassword",e,{headers:r}).then(function(e){a(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t,a))},deleteAccount:function(t,a){return e(function(e,t){return function(a){var n={"x-auth-token":t};return new Promise(function(t,r){E.a.post("/api/auth/deleteAccount",e,{headers:n}).then(function(e){e.data.success&&a({type:"CLEAR_USER_STATE"}),t(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t,a))}}})(we),xe=(a(164),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"ERROR")}}]),t}(n.Component)),Se=(a(165),a(166),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).formChangeHandler=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(h.a)({},a,n)),e.setState(Object(h.a)({},a+"Touched",!0)),e.validateField(a,n)},e.formSubmitHandler=function(t){if(t.preventDefault(),e.setState({isLoading:!0}),e.isFormValid(t)){if(e.isFormValid(t)){var a={firstName:t.target.firstName.value,lastName:t.target.lastName.value,username:t.target.username.value,email:t.target.email.value,password:t.target.password.value,password2:t.target.password2.value,city:t.target.city.value,state:t.target.state.value,birthday:t.target.birthday.value};e.props.register(a).then(function(t){e.setState({serverRes:t,isLoading:!1});var a="https://cors-anywhere.herokuapp.com/";if(t.success)return Promise.all([B(a+"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png"),B(a+"https://image.freepik.com/free-photo/blue-sky-with-clouds_1112-454.jpg")])}).then(function(t){var a=sessionStorage.getItem("twitterCloneToken");return Promise.all([e.props.uploadImage(t[0],"PROFILE",a),e.props.uploadImage(t[1],"SPLASH",a)])}).then(function(e){}).catch(function(e){return console.log(e)})}}else e.setState({isLoading:!1})},e.renderValidationMsg=function(){return e.state.validationMsg?r.a.createElement("p",{className:"text-center small font-italic text-danger"},e.state.validationMsg):null},e.renderServerMsg=function(){if(!e.state.serverRes.message)return null;var t="text-center small font-italic";return e.state.serverRes.success?t+=" text-success":e.state.serverRes.success||(t+=" text-danger"),r.a.createElement("p",{className:t},"*",e.state.serverRes.message)},e.renderSubmitBtn=function(){return e.state.isLoading?r.a.createElement("div",{className:"text-center"},r.a.createElement(j.a,{variant:"primary",animation:"border",size:"sm",role:"status"})):r.a.createElement("input",{type:"submit",className:"btn btn-sm btn-primary mx-auto",value:"Sign up"})},e.state={isLoading:!1,serverRes:{},errors:{firstName:"",lastName:"",username:"",email:"",password:"",password2:"",city:"",state:"",birthday:""}},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"setErrors",value:function(e,t){var a=this,n=Object(d.a)({},this.state).errors;n[e]="",this.setState({errors:n}),t.forEach(function(t){!0!==t&&(n[e]=t,a.setState({errors:n}))})}},{key:"validateField",value:function(e,t){switch(e){case"firstName":this.setErrors("firstName",[ge(e,t),ye(e,t)]);break;case"lastName":this.setErrors("lastName",[ge(e,t),ye(e,t)]);break;case"username":this.setErrors("username",[ge(e,t),ve(0,t)]);break;case"email":this.setErrors("email",[ge(e,t),Ee(e,t)]);break;case"password":this.setErrors("password",[ge(e,t),he(e,t,6)]);break;case"password2":this.setErrors("password2",[ge(e,t),be(this.state.password,t)]);break;case"city":this.setErrors("city",[ge(e,t),ye(e,t)]);break;case"state":this.setErrors("state",[ge(e,t),ye(e,t)])}}},{key:"isFormValid",value:function(e){var t=this,a={firstName:e.target.firstName.value,lastName:e.target.lastName.value,username:e.target.username.value,email:e.target.email.value,password:e.target.password.value,password2:e.target.password2.value,city:e.target.city.value,state:e.target.state.value,birthday:e.target.birthday.value};for(var n in a)this.validateField(n,a[n]);var r=Object.keys(this.state.errors),s=[];r.forEach(function(e){t.state[e]&&!t.state.errors[e]?s.push(!0):s.push(!1)});for(var o=0;o<s.length;o++)if(!1===s[o])return!1;return!0}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.formSubmitHandler,id:"registration-form",onChange:this.formChangeHandler,className:"m-0 bg-light"},r.a.createElement("div",{className:"p-2"},this.renderServerMsg()),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",null,"First name:"),r.a.createElement("input",{type:"text",className:"form-control m-1",placeholder:"First name",name:"firstName"}),r.a.createElement("small",{className:"text-center text-danger small font-italic"},this.state.errors.firstName)),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",null,"Last name:"),r.a.createElement("input",{type:"text",className:"form-control m-1",placeholder:"Last name",name:"lastName"}),r.a.createElement("small",{className:"text-center text-danger small font-italic"},this.state.errors.lastName))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",null,"Choose a username:"),r.a.createElement("input",{type:"text",className:"form-control m-1",placeholder:"username",name:"username"}),r.a.createElement("small",{className:"text-center text-danger small font-italic"},this.state.errors.username)),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",null,"Enter your email address:"),r.a.createElement("input",{type:"email",className:"form-control m-1",placeholder:"Email Address",name:"email"}),r.a.createElement("small",{className:"text-center text-danger small font-italic"},this.state.errors.email))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",null,"Choose a password:"),r.a.createElement("input",{type:"password",className:"form-control m-1",placeholder:"password",name:"password"}),r.a.createElement("small",{className:"text-center text-danger small font-italic"},this.state.errors.password)),r.a.createElement("div",{className:"form-group col-sm-6"},r.a.createElement("label",null,"Re-enter your password:"),r.a.createElement("input",{type:"password",className:"form-control m-1",placeholder:"Re-enter password",name:"password2"}),r.a.createElement("small",{className:"text-center text-danger small font-italic"},this.state.errors.password2))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-sm-4"},r.a.createElement("label",null,"Enter your city:"),r.a.createElement("input",{type:"text",className:"form-control m-1",placeholder:"City",name:"city"}),r.a.createElement("small",{className:"text-center text-danger small font-italic"},this.state.errors.city)),r.a.createElement("div",{className:"form-group col-sm-4"},r.a.createElement("label",null,"Enter your state:"),r.a.createElement("input",{type:"text",className:"form-control m-1",placeholder:"State",name:"state"}),r.a.createElement("small",{className:"text-center text-danger small font-italic"},this.state.errors.state)),r.a.createElement("div",{className:"form-group col-sm-4"},r.a.createElement("label",null,"Enter your birthday:"),r.a.createElement("input",{type:"text",className:"form-control m-1",placeholder:"Birthday",name:"birthday"}),r.a.createElement("small",{className:"text-center text-danger small font-italic"},this.state.errors.birthday))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col text-center"},this.renderSubmitBtn())))}}]),t}(n.Component)),Oe=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{register:function(t){return e(function(e){return function(t){return new Promise(function(a,n){E.a.post("/api/auth/register",e).then(function(e){console.log(e.data),e.data.success&&(sessionStorage.setItem("twitterCloneToken",e.data.body.token),t({type:"UPDATE_USER_STATE",payload:e.data.body.user})),a(e.data)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}}(t))},uploadImage:function(t,a,n){return e(O(t,a,n))}}})(Object(f.e)(Se)),je=(a(167),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid min-h-100 py-5 d-flex justify-content-center align-items-center"},r.a.createElement("div",{id:"registration-content-container",className:"shadow p-4 my-5 bg-light"},r.a.createElement(C.a,{icon:["fas","dove"],className:"icon-sm mb-2 text-primary"}),r.a.createElement("h2",{className:"pb-2"},"Create your account"),r.a.createElement(Oe,null)))}}]),t}(n.Component)),ke=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{}})(Object(f.e)(je)),Pe=(a(168),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid min-h-100 d-flex justify-content-center align-items-center"},r.a.createElement("div",{id:"login-content-container",className:"shadow p-5 bg-light"},r.a.createElement(C.a,{icon:["fas","dove"],className:"icon-sm mb-2 text-primary"}),r.a.createElement("h2",{className:"pb-2"},"Log in"),r.a.createElement(P,null)))}}]),t}(n.Component)),Ce=Object(g.b)(function(e){return Object(d.a)({},e)})(Object(f.e)(Pe)),Fe=a(42),Re=a(31),Te=a(80);Fe.b.add(Re.d,Te.a,Re.e,Re.b,Re.c,Re.f,Re.a,Re.g);var Le=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).detectBrowserSession=function(){var e=sessionStorage.getItem("twitterCloneToken");e&&a.props.getUserData(e)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.detectBrowserSession()}},{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(R,{data:this.props.user}),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",component:L,exact:!0}),r.a.createElement(f.a,{path:"/dashboard",component:ue}),r.a.createElement(f.a,{path:"/profile/:username",component:fe}),r.a.createElement(f.a,{path:"/settings",component:Ne}),r.a.createElement(f.a,{path:"/login",component:Ce}),r.a.createElement(f.a,{path:"/registration",component:ke}),r.a.createElement(f.a,{component:xe})))}}]),t}(n.Component),Ie=Object(g.b)(function(e){return Object(d.a)({},e)},function(e){return{getUserData:function(t){return e(w(t))},getProfileData:function(t){return e(v(t))}}})(Le),De=a(36),Ue=a(81),Ae={username:null,id:null,firstName:null,lastName:null,dateJoined:null,email:null,city:null,state:null,profilePic:null,tweets:[],followers:[],following:[],followersUserCards:[],followingUserCards:[],currentView:"TWEETS",settings:{displayEmail:!1,displayLocation:!1,displayBirthday:!1},stats:{tweets:0,followers:0,following:0,likes:0}},Me={isLoggedIn:!1,dateJoined:null,firstName:null,lastName:null,email:null,username:null,password:null,city:null,state:null,birthday:null,bio:null,profileImgUrl:null,splashImgUrl:null,selectedFileProfileImg:null,selectedFileBase64ProfileImg:null,selectedFileSplashImg:null,selectedFileBase64SplashImg:null,feed:[],tweets:[],followers:[],following:[],incomingFollowRequests:[],outgoingFollowRequests:[],followersUserCards:[],followingUserCards:[],incomingFollowRequestsUserCards:[],outgoingFollowRequestsUserCards:[],settings:{},currentView:"TWEETS",stats:{tweets:0,followers:0,following:0,likes:0}},_e=Object(De.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER_STATE":return Object(d.a)({},e,t.payload);case"CLEAR_USER_STATE":return Me;case"UPDATE_TWEET":var a=Object(d.a)({},e),n=a.tweets.findIndex(function(e){return e._id===t.payload.tweet._id});return t.payload.profile.username===a.username&&(a.stats=t.payload.profile.stats),a.tweets[n]=t.payload.tweet,a;case"SET_USER_CURRENT_VIEW":return Object(d.a)({},e,{currentView:t.payload});case"UPDATE_USER_MESSAGES":return Object(d.a)({},e,{messages:t.payload.messages,stats:t.payload.stats});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PROFILE_STATE":return Object(d.a)({},e,t.payload);case"UPDATE_TWEET":var a=Object(d.a)({},e),n=a.tweets.findIndex(function(e){return e._id===t.payload.tweet._id});return a.tweets[n]=t.payload.tweet,t.payload.profile.username===a.username&&(a.stats=t.payload.profile.stats),a;case"SET_PROFILE_CURRENT_VIEW":return Object(d.a)({},e,{currentView:t.payload});default:return e}}});var Be;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(g.a,{store:(Be={user:Me,profile:Ae},Object(De.d)(_e,Be,Object(De.a)(Ue.a)))},r.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},82:function(e,t,a){e.exports=a(169)},87:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.ec636994.chunk.js.map